<!DOCTYPE html>
<html lang="ar" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hala X - ุชุทุจูู ุนุฑุถ ุงููููุงุช</title>
    <link rel="stylesheet" href="styles.css">
    <!-- Firebase SDK v9+ -->
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-database.js"></script>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-container">
            <div class="logo">
                <h1>Hala X</h1>
                <p class="tagline">ููุตุฉ ุงููููุงุช ุงูููุซููุฉ</p>
            </div>
            <div class="header-controls">
                <div class="search-box">
                    <input 
                        type="text" 
                        id="searchInput" 
                        placeholder="ุงุจุญุซ ุนู ููุงุฉ..."
                        aria-label="ุงูุจุญุซ ุนู ุงููููุงุช"
                    >
                    <button id="searchBtn" aria-label="ุชูููุฐ ุงูุจุญุซ">๐</button>
                </div>
                <button id="adminToggleBtn" class="admin-toggle-btn" aria-label="ูุชุญ ููุญุฉ ุงูุชุญูู">โ๏ธ</button>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Filter Section -->
        <section class="filter-section" aria-label="ุชุตููุฉ ุงููููุงุช">
            <div class="filter-container">
                <div class="filter-group">
                    <label for="categoryFilter">ุงูุชุตููู:</label>
                    <select id="categoryFilter" aria-label="ุงุฎุชุฑ ุงูุชุตููู">
                        <option value="">ุฌููุน ุงูุชุตูููุงุช</option>
                        <option value="ุฑูุงุถุฉ">ุฑูุงุถุฉ</option>
                        <option value="ุชุฑููู">ุชุฑููู</option>
                        <option value="ุฃุฎุจุงุฑ">ุฃุฎุจุงุฑ</option>
                        <option value="ุชุนููู">ุชุนููู</option>
                        <option value="ุฃุฎุฑู">ุฃุฎุฑู</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label>
                        <input type="checkbox" id="exactMatchToggle" aria-label="ุงูุจุญุซ ุงูุฏููู">
                        ุจุญุซ ุฏููู
                    </label>
                </div>
                <button id="resetFiltersBtn" class="reset-btn" aria-label="ุฅุนุงุฏุฉ ุชุนููู ุงููุฑุดุญุงุช">ุฅุนุงุฏุฉ ุชุนููู</button>
            </div>
        </section>

        <!-- Channels Grid -->
        <section class="channels-section" aria-label="ูุงุฆูุฉ ุงููููุงุช">
            <div id="channelsGrid" class="channels-grid">
                <!-- Channels will be dynamically inserted here -->
                <div class="loading-message">ุฌุงุฑู ุชุญููู ุงููููุงุช...</div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <p>&copy; 2024 Hala X. ุฌููุน ุงูุญููู ูุญููุธุฉ.</p>
    </footer>

    <!-- ============================================ -->
    <!-- MODALS -->
    <!-- ============================================ -->

    <!-- First-Run Access Code Modal -->
    <div id="accessCodeModal" class="modal" role="dialog" aria-labelledby="accessCodeTitle" aria-hidden="true">
        <div class="modal-content">
            <h2 id="accessCodeTitle">ุงููุตูู ุฅูู ุงูุชุทุจูู</h2>
            <p>ูุฑุฌู ุฅุฏุฎุงู ุฑูุฒ ุงููุตูู ูููุชุงุจุนุฉ:</p>
            <input 
                type="password" 
                id="accessCodeInput" 
                placeholder="ุฃุฏุฎู ุงูุฑูุฒ"
                aria-label="ุฑูุฒ ุงููุตูู"
                maxlength="4"
            >
            <div id="accessCodeError" class="error-message" style="display: none;"></div>
            <button id="accessCodeSubmitBtn" class="btn-primary">ุฏุฎูู</button>
        </div>
    </div>

    <!-- Admin Code Modal -->
    <div id="adminCodeModal" class="modal" role="dialog" aria-labelledby="adminCodeTitle" aria-hidden="true">
        <div class="modal-content">
            <h2 id="adminCodeTitle">ุฑูุฒ ุงููุทูุฑ</h2>
            <p>ุฃุฏุฎู ุฑูุฒ ุงููุทูุฑ ูููุตูู ุฅูู ููุญุฉ ุงูุชุญูู:</p>
            <input 
                type="password" 
                id="adminCodeInput" 
                placeholder="ุฃุฏุฎู ุงูุฑูุฒ"
                aria-label="ุฑูุฒ ุงููุทูุฑ"
                maxlength="4"
            >
            <div id="adminCodeError" class="error-message" style="display: none;"></div>
            <div class="modal-actions">
                <button id="adminCodeSubmitBtn" class="btn-primary">ุชุญูู</button>
                <button id="adminCodeCancelBtn" class="btn-secondary">ุฅูุบุงุก</button>
            </div>
        </div>
    </div>

    <!-- Admin Panel Modal -->
    <div id="adminPanel" class="modal" role="dialog" aria-labelledby="adminPanelTitle" aria-hidden="true">
        <div class="modal-content admin-panel-content">
            <div class="admin-panel-header">
                <h2 id="adminPanelTitle">ููุญุฉ ุงูุชุญูู ุงูุฅุฏุงุฑูุฉ</h2>
                <button id="closeAdminBtn" class="close-btn" aria-label="ุฅุบูุงู ููุญุฉ ุงูุชุญูู">โ</button>
            </div>

            <!-- Create Channel Form -->
            <section class="admin-section">
                <h3>ุฅุถุงูุฉ ููุงุฉ ุฌุฏูุฏุฉ</h3>
                <form id="createChannelForm" class="channel-form">
                    <div class="form-group">
                        <label for="channelTitle">ุงุณู ุงูููุงุฉ:</label>
                        <input 
                            type="text" 
                            id="channelTitle" 
                            placeholder="ูุซุงู: ููุงุฉ ุงูุฑูุงุถุฉ"
                            required
                            aria-label="ุงุณู ุงูููุงุฉ"
                        >
                    </div>

                    <div class="form-group">
                        <label for="channelThumbnail">ุฑุงุจุท ุงูุตูุฑุฉ ุงููุตุบุฑุฉ:</label>
                        <input 
                            type="url" 
                            id="channelThumbnail" 
                            placeholder="https://example.com/image.jpg"
                            required
                            aria-label="ุฑุงุจุท ุงูุตูุฑุฉ ุงููุตุบุฑุฉ"
                        >
                        <div id="thumbnailPreview" class="thumbnail-preview"></div>
                    </div>

                    <div class="form-group">
                        <label for="channelUrl">ุฑุงุจุท ุงูููุงุฉ:</label>
                        <input 
                            type="url" 
                            id="channelUrl" 
                            placeholder="https://example.com/channel"
                            required
                            aria-label="ุฑุงุจุท ุงูููุงุฉ"
                        >
                    </div>

                    <div class="form-group">
                        <label for="channelCategory">ุงูุชุตููู:</label>
                        <select id="channelCategory" required aria-label="ุงุฎุชุฑ ุงูุชุตููู">
                            <option value="">ุงุฎุชุฑ ุงูุชุตููู</option>
                            <option value="ุฑูุงุถุฉ">ุฑูุงุถุฉ</option>
                            <option value="ุชุฑููู">ุชุฑููู</option>
                            <option value="ุฃุฎุจุงุฑ">ุฃุฎุจุงุฑ</option>
                            <option value="ุชุนููู">ุชุนููู</option>
                            <option value="ุฃุฎุฑู">ุฃุฎุฑู</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="channelDescription">ุงููุตู:</label>
                        <textarea 
                            id="channelDescription" 
                            placeholder="ูุตู ุงูููุงุฉ..."
                            rows="3"
                            aria-label="ูุตู ุงูููุงุฉ"
                        ></textarea>
                    </div>

                    <button type="submit" class="btn-primary">ุฅุถุงูุฉ ุงูููุงุฉ</button>
                </form>
                <div id="createChannelMessage" class="message" style="display: none;"></div>
            </section>

            <!-- Channels Management Table -->
            <section class="admin-section">
                <h3>ุฅุฏุงุฑุฉ ุงููููุงุช</h3>
                <div id="channelsTableContainer" class="table-container">
                    <table class="channels-table">
                        <thead>
                            <tr>
                                <th>ุงุณู ุงูููุงุฉ</th>
                                <th>ุงูุชุตููู</th>
                                <th>ุงูุฅุฌุฑุงุกุงุช</th>
                            </tr>
                        </thead>
                        <tbody id="channelsTableBody">
                            <tr><td colspan="3" style="text-align: center;">ุฌุงุฑู ุชุญููู ุงููููุงุช...</td></tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Admin Actions -->
            <section class="admin-section">
                <h3>ุฅุฌุฑุงุกุงุช ุฅุฏุงุฑูุฉ</h3>
                <div class="admin-actions">
                    <button id="logoutAdminBtn" class="btn-danger">ุชุณุฌูู ุงูุฎุฑูุฌ ูู ุงูุฅุฏุงุฑุฉ</button>
                    <button id="resetFirstRunBtn" class="btn-danger">ุฅุนุงุฏุฉ ุชุนููู ุงููุตูู ุงูุฃูู</button>
                </div>
            </section>
        </div>
    </div>

    <!-- Edit Channel Modal -->
    <div id="editChannelModal" class="modal" role="dialog" aria-labelledby="editChannelTitle" aria-hidden="true">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="editChannelTitle">ุชุนุฏูู ุงูููุงุฉ</h2>
                <button id="closeEditModal" class="close-btn" aria-label="ุฅุบูุงู">โ</button>
            </div>
            <form id="editChannelForm" class="channel-form">
                <input type="hidden" id="editChannelId">

                <div class="form-group">
                    <label for="editChannelTitle">ุงุณู ุงูููุงุฉ:</label>
                    <input 
                        type="text" 
                        id="editChannelTitle" 
                        required
                        aria-label="ุงุณู ุงูููุงุฉ"
                    >
                </div>

                <div class="form-group">
                    <label for="editChannelThumbnail">ุฑุงุจุท ุงูุตูุฑุฉ ุงููุตุบุฑุฉ:</label>
                    <input 
                        type="url" 
                        id="editChannelThumbnail" 
                        required
                        aria-label="ุฑุงุจุท ุงูุตูุฑุฉ ุงููุตุบุฑุฉ"
                    >
                    <div id="editThumbnailPreview" class="thumbnail-preview"></div>
                </div>

                <div class="form-group">
                    <label for="editChannelUrl">ุฑุงุจุท ุงูููุงุฉ:</label>
                    <input 
                        type="url" 
                        id="editChannelUrl" 
                        required
                        aria-label="ุฑุงุจุท ุงูููุงุฉ"
                    >
                </div>

                <div class="form-group">
                    <label for="editChannelCategory">ุงูุชุตููู:</label>
                    <select id="editChannelCategory" required aria-label="ุงุฎุชุฑ ุงูุชุตููู">
                        <option value="">ุงุฎุชุฑ ุงูุชุตููู</option>
                        <option value="ุฑูุงุถุฉ">ุฑูุงุถุฉ</option>
                        <option value="ุชุฑููู">ุชุฑููู</option>
                        <option value="ุฃุฎุจุงุฑ">ุฃุฎุจุงุฑ</option>
                        <option value="ุชุนููู">ุชุนููู</option>
                        <option value="ุฃุฎุฑู">ุฃุฎุฑู</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="editChannelDescription">ุงููุตู:</label>
                    <textarea 
                        id="editChannelDescription" 
                        rows="3"
                        aria-label="ูุตู ุงูููุงุฉ"
                    ></textarea>
                </div>

                <div class="modal-actions">
                    <button type="submit" class="btn-primary">ุญูุธ ุงูุชุบููุฑุงุช</button>
                    <button type="button" id="cancelEditBtn" class="btn-secondary">ุฅูุบุงุก</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Delete Confirmation Modal -->
    <div id="deleteConfirmModal" class="modal" role="dialog" aria-labelledby="deleteConfirmTitle" aria-hidden="true">
        <div class="modal-content">
            <h2 id="deleteConfirmTitle">ุชุฃููุฏ ุงูุญุฐู</h2>
            <p>ูู ุฃูุช ูุชุฃูุฏ ูู ุฑุบุจุชู ูู ุญุฐู ูุฐู ุงูููุงุฉุ ูุง ูููู ุงูุชุฑุงุฌุน ุนู ูุฐุง ุงูุฅุฌุฑุงุก.</p>
            <input type="hidden" id="deleteChannelId">
            <div class="modal-actions">
                <button id="confirmDeleteBtn" class="btn-danger">ุญุฐู</button>
                <button id="cancelDeleteBtn" class="btn-secondary">ุฅูุบุงุก</button>
            </div>
        </div>
    </div>

    <!-- Script -->
    <script src="app.js"></script>
</body>
</html>
